{"version":3,"sources":["01__main.js","just-validate.js"],"names":["document","addEventListener","qOne","selector","querySelector","qAll","querySelectorAll","formFieldset","progressbarItem","next","previous","progressbar","selectHeader","i","length","classList","remove","style","setProperty","persent","add","item","arr","select","closest","options","innerText","option","innerHTML","hasAttribute","selectItem","value","this","toggle","masked","elems","mask","event","keyCode","template","def","replace","val","newValue","a","charAt","indexOf","slice","reg","substr","RegExp","test","type","elem","maskPhone","window","JustValidate","rules","tel","required","messages","name","minLength","maxLenght","email","submitHandler","thisForm","formData","FormData","xhr","XMLHttpRequest","onreadystatechange","readyState","status","console","log","open","send","reset","_typeof","Symbol","iterator","obj","constructor","prototype","_defineProperty","key","Object","defineProperty","enumerable","configurable","writable","typesToPatch","parentNode","removeChild","root","setTimeoutFunc","setTimeout","noop","Promise","fn","TypeError","_state","_handled","_value","undefined","_deferreds","doResolve","handle","self","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","e","reject","promise","resolve","push","then","finale","thisArg","apply","arguments","_unhandledRejectionFn","len","Handler","done","reason","ex","prom","all","args","Array","call","remaining","res","race","values","setImmediate","err","warn","_setImmediateFn","_setUnhandledRejectionFn","module","exports","formatParams","params","method","letter","toLowerCase","isArray","map","join","keys","ajax","url","data","debug","callback","error","async","body","setRequestHeader","responseText","colorWrong","result","elements","tooltip","tooltipFadeOutTime","fadeOutTime","tooltipFadeOutClass","fadeOutClass","tooltipSelectorWrap","selectorWrap","bindHandlerKeyup","handlerKeyup","bind","invalidFormCallback","promisesRemote","isValidationSuccess","focusWrongField","REGEXP","zip","phone","password","strengthPass","DEFAULT_REMOTE_ERROR","state","tooltipsTimer","setForm","defaultRules","maxLength","text","defaultMessages","remote","strength","function","ev","target","getAttribute","validateItem","group","isKeyupChange","renderErrors","setterEventListener","handler","removeEventListener","getElementsRealValue","$elems","$form","checked","validationFailed","$firstErrorField","focus","validationSuccess","realValues","submit","form","_this","setAttribute","preventDefault","getElements","isEmail","isZip","isPhone","isPassword","isEmpty","newVal","trim","checkLengthMax","max","checkLengthMin","min","checkStrengthPass","_this2","_loop","isElemInGroup","findElem","filter","validateElements","validateRequired","validateEmail","validatePhone","validateMinLength","validateMaxLength","validateStrengthPass","validatePassword","validateZip","validateRemote","_ref","successAnswer","sendParam","generateMessage","rule","customMessage","toString","message","_this3","lockForm","forEach","resp","alert","_ref2","_this4","ruleValue","isSuccessValidateGroup","default","custom","regexp","$elem","clearErrors","_i","_len","border","color","_this5","unlockForm","_item","div","createElement","className","$label","tagName","insertBefore","nextSibling","hideTooltips","_this6","pointerEvents","webitFilter","removeAttribute"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["'use strict';\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  function qOne(selector) {\r\n    return document.querySelector(selector);\r\n  }\r\n\r\n  function qAll(selector) {\r\n    return document.querySelectorAll(selector);\r\n  }\r\n\r\n  if (qAll('.form__fieldset')) {\r\n    const\r\n      formFieldset = qAll('.form__fieldset'),\r\n      progressbarItem = qAll('.progressbar__item'),\r\n      next = qAll('.next'),\r\n      previous = qAll('.previous'),\r\n      progressbar = qOne('.progressbar'),\r\n      selectHeader = qAll('.select__header');\r\n\r\n    //клик по кнопке вперед\r\n    for (let i = 0; i < next.length; i++) {\r\n      next[i].addEventListener('click', () => {\r\n        formFieldset[i].classList.remove('form__fieldset--active');\r\n        progressbar.style.setProperty('--progressbar-width', persent(i + 1, formFieldset));\r\n        formFieldset[i + 1].classList.add('form__fieldset--active');\r\n        progressbarItem[i + 1].classList.add('progressbar__item--active');\r\n\r\n        progressbarItem[i + 1].classList.add('progressbar__item--text');\r\n        progressbarItem[i].classList.remove('progressbar__item--text');\r\n      });\r\n    }\r\n\r\n    //клик по кнопке назад\r\n    for (let i = 0; i < previous.length; i++) {\r\n      previous[i].addEventListener('click', () => {\r\n        formFieldset[i].classList.add('form__fieldset--active');\r\n        progressbar.style.setProperty('--progressbar-width', persent(i, formFieldset));\r\n        formFieldset[i + 1].classList.remove('form__fieldset--active');\r\n        progressbarItem[i + 1].classList.remove('progressbar__item--active');\r\n        progressbarItem[i + 1].classList.remove('progressbar__item--text');\r\n        progressbarItem[i].classList.add('progressbar__item--text');\r\n      });\r\n    }\r\n\r\n    // линия прогресса и функция вычисления %\r\n    const progress = () => {\r\n      progressbar.style.setProperty('--progressbar-width', persent(i, formFieldset));\r\n    }\r\n\r\n    const persent = (item, arr) => {\r\n      return `${(item / (arr.length - 1)) * 100}%`;\r\n    }\r\n\r\n    // расположение элементы в прогрессбаре\r\n    for (let i = 0; i < progressbarItem.length; i++) {\r\n      progressbarItem[i].style\r\n        .setProperty('left', persent(i, progressbarItem));\r\n    }\r\n\r\n    //надо при кликах сделать проверку \r\n    // у всех ли инпутов с requaredom\r\n    // заполнены поля и как заполнены\r\n\r\n\r\n    // механика кастомного СЕЛЕКТА\r\n    if (selectHeader) {\r\n      for (let item of selectHeader) {\r\n        let select = item.closest('.select');\r\n        let options = select.querySelectorAll('option');\r\n\r\n        select\r\n          .querySelector('span')\r\n          .innerText = options[0].innerText;\r\n\r\n        for (let option of options) {\r\n          option.closest('.select')\r\n            .querySelector('ul').innerHTML\r\n            += `<li class=\"select__item\">${option.innerText}</li>`\r\n\r\n          if (option.hasAttribute('selected')) {\r\n\r\n            option.closest('.select')\r\n              .querySelector('span')\r\n              .innerText = option.innerText;\r\n          }\r\n        }\r\n\r\n        let selectItem = select.querySelectorAll('li');\r\n        for (let i = 0; i < selectItem.length; i++) {\r\n          selectItem[i].addEventListener('click', () => {\r\n            select.querySelector('select').value = selectItem[i].innerText;\r\n            select.querySelector('span').innerText = selectItem[i].innerText;\r\n            select.classList.remove('select--active');\r\n          });\r\n        }\r\n\r\n        item.addEventListener('click', function () {\r\n          this.closest('.select').classList.toggle('select--active');\r\n        });\r\n      }\r\n    }\r\n\r\n    // маска телефона по умолчанию +7\r\n    function maskPhone(selector, masked = '+7 (___) ___-__-__') {\r\n      const elems = document.querySelectorAll(selector);\r\n\r\n      function mask(event) {\r\n        const keyCode = event.keyCode;\r\n        const template = masked,\r\n          def = template.replace(/\\D/g, \"\"),\r\n          val = this.value.replace(/\\D/g, \"\");\r\n        let i = 0,\r\n          newValue = template.replace(/[_\\d]/g, function (a) {\r\n            return i < val.length ? val.charAt(i++) || def.charAt(i) : a;\r\n          });\r\n        i = newValue.indexOf(\"_\");\r\n        if (i !== -1) {\r\n          newValue = newValue.slice(0, i);\r\n        }\r\n        let reg = template.substr(0, this.value.length).replace(/_+/g,\r\n          function (a) {\r\n            return \"\\\\d{1,\" + a.length + \"}\";\r\n          }).replace(/[+()]/g, \"\\\\$&\");\r\n        reg = new RegExp(\"^\" + reg + \"$\");\r\n        if (!reg.test(this.value) || this.value.length < 5 || keyCode > 47 && keyCode < 58) {\r\n          this.value = newValue;\r\n        }\r\n        if (event.type === \"blur\" && this.value.length < 5) {\r\n          this.value = \"\";\r\n        }\r\n\r\n      }\r\n\r\n      for (const elem of elems) {\r\n        elem.addEventListener(\"input\", mask);\r\n        elem.addEventListener(\"focus\", mask);\r\n        elem.addEventListener(\"blur\", mask);\r\n      }\r\n\r\n    }\r\n    maskPhone('.tel1', '+_ (___) ___-__-__');\r\n\r\n    //проверка пароля\r\n    function CheckPassword(inputtxt) {\r\n      var decimal = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,15}$/;\r\n      if (inputtxt.value.match(decimal)) {\r\n        return true;\r\n      }\r\n      else {\r\n        alert('Пароль должен содержать от 8 до 15 символов, которые содержат как минимум одну строчную букву, одну заглавную букву, одну цифровую цифру и один специальный символ');\r\n        return false;\r\n      }\r\n    }\r\n\r\n    function CheckPassword1(inputtxt) {\r\n      var passw = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;\r\n      if (inputtxt.value.match(passw)) {\r\n        return true;\r\n      }\r\n      else {\r\n        alert('пароль должен быть от 6 до 20 символов, которые содержат как минимум одну цифровую цифру , одну заглавную и одну строчную букву');\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n\r\n  // добавление ошибки элементам формы\r\n  function formAddError(input) {\r\n    input.parentElement.classList.add('--error');\r\n    input.classList.add('--error');\r\n  }\r\n\r\n  function formRemoveError(input) {\r\n    input.parentElement.classList.remove('--error');\r\n    input.classList.remove('--error');\r\n  }\r\n\r\n  // //проверка input type=EMAIL при смене фокуса\r\n  // const validateEmail = () => {\r\n  //   const emailJs = qAll('.email-js');\r\n  //   for (const input of emailJs) {\r\n  //     input.addEventListener('focusout', function () {\r\n  //       let validate = String(input.value)\r\n  //         .toLowerCase()\r\n  //         .match(\r\n  //           /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n  //         );\r\n  //       if (validate) {\r\n  //         formRemoveError(input);\r\n  //       } else {\r\n  //         formAddError(input);\r\n  //       }\r\n  //     });\r\n\r\n  //   }\r\n  // }\r\n\r\n  // if (qAll('.email-js')) {\r\n  //   validateEmail();\r\n  // }\r\n\r\n  // //проверка всей формы\r\n  // if (qAll('.form-js')) {\r\n  //   let forms = qAll('.form-js');\r\n  //   for (let form of forms) {\r\n  //     form.addEventListener('submit', formSend);\r\n\r\n  //     // проверка и отправка\r\n  //     async function formSend(e) {\r\n  //       e.preventDefault();\r\n  //       let error = fromValidate(form);\r\n  //       let formData = new FormData(form);\r\n  //       formData.append('image', img.files[0]);\r\n\r\n  //       if (error == 0) {\r\n  //         let response = await fetch('sendmail.php', {\r\n  //           method: 'POST',\r\n  //           body: formData\r\n  //         });\r\n\r\n  //         if (response.ok) {\r\n  //           form.classList.add('form--sending'); \r\n  //           let result = await response.json();\r\n  //           alert(result.message);\r\n  //           formPreview = '';\r\n  //           form.reset();\r\n  //           form.classList.remove('form--sending');\r\n  //         } else {\r\n  //           alert('ошибка');\r\n  //           form.classList.remove('form--sending');\r\n  //         }\r\n  //       } else {\r\n  //         alert('не все поля заолнены правильно');\r\n  //       }\r\n  //     }\r\n\r\n  //     //проверка всей формы\r\n  //     function fromValidate(form) {\r\n  //       let error = 0;\r\n  //       let formReq = qAll('[required]');\r\n  //       let input1 = '';\r\n\r\n  //       for (let input of formReq) {\r\n\r\n  //         formRemoveError(input);\r\n\r\n  //         if (input.getAttribute('type') == 'email') {\r\n  //           let validate = String(input.value)\r\n  //             .toLowerCase()\r\n  //             .match(\r\n  //               /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n  //             );\r\n  //           if (validate) {\r\n  //             formRemoveError(input);\r\n  //           } else {\r\n  //             formAddError(input);\r\n  //             error++;\r\n  //           }\r\n  //         } else if (input.getAttribute('type') == 'checkbox' && input.checked == false) {\r\n  //           formAddError(input);\r\n  //           error;\r\n  //         } else if (input.getAttribute('type') == 'password') {\r\n  //           if (input1 == '') {\r\n  //             input1 = input;\r\n  //           } else if (input1.value !== input.value) {\r\n  //             formAddError(input);\r\n  //             formAddError(input1);\r\n  //             error;\r\n  //           }\r\n  //         }\r\n  //         else {\r\n  //           if (input.value == '') {\r\n  //             formAddError(input);\r\n  //             error++;\r\n  //           }\r\n  //         }\r\n  //       }\r\n  //     }\r\n\r\n  //   }\r\n\r\n  //   //проферка файла картинки на размер и расширение:\r\n  //   if (qAll('.file-js')) {\r\n  //     let fileJs = qAll('.file-js');\r\n  //     for (let img of fileJs) {\r\n  //       img.addEventListener('change', () => {\r\n  //         uploadFile(img.files[0]);\r\n  //       });\r\n\r\n  //       function uploadFile(file) {\r\n  //         if (!['image/jpeg', 'image/png', 'image/gif'].includes(file.type)) {\r\n  //           alert('разрешены только изображения');\r\n  //           file.value = '';\r\n  //           return;\r\n  //         }\r\n  //         if (file.size > 2 * 1024 * 1024) {\r\n  //           alert('файл не должен превышать 2Мб');\r\n  //           return;\r\n  //         }\r\n  //         console.log(file);\r\n  //         // превью картинки\r\n  //         const formPreview = img.closest('.form__file-box').querySelector('.form__preview');\r\n  //         let reader = new FileReader();\r\n  //         reader.onload = function (e) {\r\n  //           formPreview.innerHTML = `<img src=\"${e.target.result}\" alt=\"превью фото\">`\r\n  //         }\r\n  //         reader.onerror = function (e) {\r\n  //           alert('ошибка');\r\n  //         }\r\n  //         reader.readAsDataURL(file);\r\n  //       }\r\n\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  //форма с помощью плагина файл в компонентс/дист/js\r\n\r\n  if (qOne('.form')) {\r\n    new window.JustValidate('.form', {\r\n      rules: {\r\n        tel: {\r\n          required: true,\r\n        }\r\n      },\r\n      messages: {\r\n        name: {\r\n          required: 'Введите имя',\r\n          minLength: 'Минимуму 3 символа',\r\n          maxLenght: 'Максимум 15 символов'\r\n        },\r\n        email: {\r\n          required: 'Введите email',\r\n          email: 'Введите корректный email'\r\n        },\r\n        tel: {\r\n          required: 'Введите телефон',\r\n        }\r\n      },\r\n      submitHandler: function (thisForm) {\r\n        let formData = new FormData(thisForm);\r\n\r\n        //отправка формы через xhr \r\n        let xhr = new XMLHttpRequest();\r\n\r\n        xhr.onreadystatechange = function () {\r\n          if (xhr.readyState === 4) {\r\n            if (xhr.status === 200) {\r\n              console.log('Отправлено');\r\n            }\r\n          }\r\n        };\r\n\r\n        xhr.open('POST', 'mail.php', true);\r\n        xhr.send(formData);\r\n    \r\n        thisForm.reset();\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n\r\n});","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n(function () {\n    var typesToPatch = ['DocumentType', 'Element', 'CharacterData'],\n        remove = function remove() {\n        // The check here seems pointless, since we're not adding this\n        // method to the prototypes of any any elements that CAN be the\n        // root of the DOM. However, it's required by spec (see point 1 of\n        // https://dom.spec.whatwg.org/#dom-childnode-remove) and would\n        // theoretically make a difference if somebody .apply()ed this\n        // method to the DOM's root node, so let's roll with it.\n        if (this.parentNode != null) {\n            this.parentNode.removeChild(this);\n        }\n    };\n\n    for (var i = 0; i < typesToPatch.length; i++) {\n        var type = typesToPatch[i];\n        if (window[type] && !window[type].prototype.remove) {\n            window[type].prototype.remove = remove;\n        }\n    }\n})();\n(function (root) {\n\n    // Store setTimeout reference so promise-polyfill will be unaffected by\n    // other code modifying setTimeout (like sinon.useFakeTimers())\n    var setTimeoutFunc = setTimeout;\n\n    function noop() {}\n\n    // Polyfill for Function.prototype.bind\n    function bind(fn, thisArg) {\n        return function () {\n            fn.apply(thisArg, arguments);\n        };\n    }\n\n    function Promise(fn) {\n        if (_typeof(this) !== 'object') throw new TypeError('Promises must be constructed via new');\n        if (typeof fn !== 'function') throw new TypeError('not a function');\n        this._state = 0;\n        this._handled = false;\n        this._value = undefined;\n        this._deferreds = [];\n\n        doResolve(fn, this);\n    }\n\n    function handle(self, deferred) {\n        while (self._state === 3) {\n            self = self._value;\n        }\n        if (self._state === 0) {\n            self._deferreds.push(deferred);\n            return;\n        }\n        self._handled = true;\n        Promise._immediateFn(function () {\n            var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n            if (cb === null) {\n                (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                return;\n            }\n            var ret;\n            try {\n                ret = cb(self._value);\n            } catch (e) {\n                reject(deferred.promise, e);\n                return;\n            }\n            resolve(deferred.promise, ret);\n        });\n    }\n\n    function resolve(self, newValue) {\n        try {\n            // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n            if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n            if (newValue && ((typeof newValue === 'undefined' ? 'undefined' : _typeof(newValue)) === 'object' || typeof newValue === 'function')) {\n                var then = newValue.then;\n                if (newValue instanceof Promise) {\n                    self._state = 3;\n                    self._value = newValue;\n                    finale(self);\n                    return;\n                } else if (typeof then === 'function') {\n                    doResolve(bind(then, newValue), self);\n                    return;\n                }\n            }\n            self._state = 1;\n            self._value = newValue;\n            finale(self);\n        } catch (e) {\n            reject(self, e);\n        }\n    }\n\n    function reject(self, newValue) {\n        self._state = 2;\n        self._value = newValue;\n        finale(self);\n    }\n\n    function finale(self) {\n        if (self._state === 2 && self._deferreds.length === 0) {\n            Promise._immediateFn(function () {\n                if (!self._handled) {\n                    Promise._unhandledRejectionFn(self._value);\n                }\n            });\n        }\n\n        for (var i = 0, len = self._deferreds.length; i < len; i++) {\n            handle(self, self._deferreds[i]);\n        }\n        self._deferreds = null;\n    }\n\n    function Handler(onFulfilled, onRejected, promise) {\n        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n        this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n        this.promise = promise;\n    }\n\n    /**\n     * Take a potentially misbehaving resolver function and make sure\n     * onFulfilled and onRejected are only called once.\n     *\n     * Makes no guarantees about asynchrony.\n     */\n    function doResolve(fn, self) {\n        var done = false;\n        try {\n            fn(function (value) {\n                if (done) return;\n                done = true;\n                resolve(self, value);\n            }, function (reason) {\n                if (done) return;\n                done = true;\n                reject(self, reason);\n            });\n        } catch (ex) {\n            if (done) return;\n            done = true;\n            reject(self, ex);\n        }\n    }\n\n    Promise.prototype['catch'] = function (onRejected) {\n        return this.then(null, onRejected);\n    };\n\n    Promise.prototype.then = function (onFulfilled, onRejected) {\n        var prom = new this.constructor(noop);\n\n        handle(this, new Handler(onFulfilled, onRejected, prom));\n        return prom;\n    };\n\n    Promise.all = function (arr) {\n        var args = Array.prototype.slice.call(arr);\n\n        return new Promise(function (resolve, reject) {\n            if (args.length === 0) return resolve([]);\n            var remaining = args.length;\n\n            function res(i, val) {\n                try {\n                    if (val && ((typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object' || typeof val === 'function')) {\n                        var then = val.then;\n                        if (typeof then === 'function') {\n                            then.call(val, function (val) {\n                                res(i, val);\n                            }, reject);\n                            return;\n                        }\n                    }\n                    args[i] = val;\n                    if (--remaining === 0) {\n                        resolve(args);\n                    }\n                } catch (ex) {\n                    reject(ex);\n                }\n            }\n\n            for (var i = 0; i < args.length; i++) {\n                res(i, args[i]);\n            }\n        });\n    };\n\n    Promise.resolve = function (value) {\n        if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.constructor === Promise) {\n            return value;\n        }\n\n        return new Promise(function (resolve) {\n            resolve(value);\n        });\n    };\n\n    Promise.reject = function (value) {\n        return new Promise(function (resolve, reject) {\n            reject(value);\n        });\n    };\n\n    Promise.race = function (values) {\n        return new Promise(function (resolve, reject) {\n            for (var i = 0, len = values.length; i < len; i++) {\n                values[i].then(resolve, reject);\n            }\n        });\n    };\n\n    // Use polyfill for setImmediate for performance gains\n    Promise._immediateFn = typeof setImmediate === 'function' && function (fn) {\n        setImmediate(fn);\n    } || function (fn) {\n        setTimeoutFunc(fn, 0);\n    };\n\n    Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n        if (typeof console !== 'undefined' && console) {\n            console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n        }\n    };\n\n    /**\n     * Set the immediate function to execute callbacks\n     * @param fn {function} Function to execute\n     * @deprecated\n     */\n    Promise._setImmediateFn = function _setImmediateFn(fn) {\n        Promise._immediateFn = fn;\n    };\n\n    /**\n     * Change the function to execute on unhandled rejection\n     * @param {function} fn Function to execute on unhandled rejection\n     * @deprecated\n     */\n    Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n        Promise._unhandledRejectionFn = fn;\n    };\n\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Promise;\n    } else if (!root.Promise) {\n        root.Promise = Promise;\n    }\n})(window);\n\n/* global Promise */\n(function (window) {\n    'use strict';\n\n    if (!window.Promise) {\n        window.Promise = Promise;\n    }\n\n    var RULE_REQUIRED = 'required',\n        RULE_EMAIL = 'email',\n        RULE_MINLENGTH = 'minLength',\n        RULE_MAXLENGTH = 'maxLength',\n        RULE_PASSWORD = 'password',\n        RULE_ZIP = 'zip',\n        RULE_PHONE = 'phone',\n        RULE_REMOTE = 'remote',\n        RULE_STRENGTH = 'strength',\n        RULE_FUNCTION = 'function';\n\n    var formatParams = function formatParams(params, method) {\n        if (typeof params === 'string') {\n            return params;\n        }\n\n        var letter = method.toLowerCase() === 'post' ? '' : '?';\n        if (Array.isArray(params)) {\n            return letter + params.map(function (obj) {\n                return obj.name + '=' + obj.value;\n            }).join('&');\n        }\n        return letter + Object.keys(params).map(function (key) {\n            return key + '=' + params[key];\n        }).join('&');\n    };\n\n    var ajax = function ajax(options) {\n        var url = options.url,\n            method = options.method,\n            data = options.data,\n            debug = options.debug,\n            callback = options.callback,\n            error = options.error;\n\n        if (debug) {\n            callback('test');\n            return;\n        }\n\n        var async = options.async === false ? false : true;\n        var xhr = new XMLHttpRequest();\n        var params = formatParams(data, 'get');\n        var body = null;\n\n        if (method.toLowerCase() === 'post') {\n            body = formatParams(data, 'post');\n            params = '';\n        }\n\n        xhr.open(method, url + params, async);\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        xhr.onreadystatechange = function () {\n            if (this.readyState === 4) {\n                if (this.status === 200) {\n                    callback(this.responseText);\n                } else {\n                    error && error(this.responseText);\n                }\n            }\n        };\n        xhr.send(body);\n    };\n\n    var JustValidate = function JustValidate(selector, options) {\n        this.options = options || {};\n        this.rules = this.options.rules || {};\n        this.messages = this.options.messages || undefined;\n        this.colorWrong = this.options.colorWrong || '#B81111';\n        this.result = {};\n        this.elements = [];\n        this.tooltip = this.options.tooltip || {};\n        this.tooltipFadeOutTime = this.tooltip.fadeOutTime || 5000;\n        this.tooltipFadeOutClass = this.tooltip.fadeOutClass || 'just-validate-tooltip-hide';\n        this.tooltipSelectorWrap = document.querySelectorAll(this.tooltip.selectorWrap).length ? document.querySelectorAll(this.tooltip.selectorWrap) : document.querySelectorAll('.just-validate-tooltip-container');\n        this.bindHandlerKeyup = this.handlerKeyup.bind(this);\n        this.submitHandler = this.options.submitHandler || undefined;\n        this.invalidFormCallback = this.options.invalidFormCallback || undefined;\n        this.promisesRemote = [];\n        this.isValidationSuccess = false;\n        this.focusWrongField = this.options.focusWrongField || false;\n        this.REGEXP = {\n            // eslint-disable-next-line max-len\n            email: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n            zip: /^\\d{5}(-\\d{4})?$/,\n            phone: /^([0-9]( |-)?)?(\\(?[0-9]{3}\\)?|[0-9]{3})( |-)?([0-9]{3}( |-)?[0-9]{4}|[a-zA-Z0-9]{7})$/,\n            password: /[^\\w\\d]*(([0-9]+.*[A-Za-z]+.*)|[A-Za-z]+.*([0-9]+.*))/,\n            strengthPass: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]/\n        };\n        this.DEFAULT_REMOTE_ERROR = 'Error';\n        this.state = {\n            tooltipsTimer: null\n        };\n\n        this.setForm(document.querySelector(selector));\n    };\n\n    JustValidate.prototype = {\n        defaultRules: {\n            email: {\n                required: true,\n                email: true\n            },\n            name: {\n                required: true,\n                minLength: 3,\n                maxLength: 15\n            },\n            text: {\n                required: true,\n                maxLength: 300,\n                minLength: 5\n            },\n            password: {\n                required: true,\n                password: true,\n                minLength: 4,\n                maxLength: 8\n            },\n            zip: {\n                required: true,\n                zip: true\n            },\n            phone: {\n                phone: true\n            }\n        },\n\n        defaultMessages: {\n            required: 'The field is required',\n            email: 'Please, type a valid email',\n            maxLength: 'The field must contain a maximum of :value characters',\n            minLength: 'The field must contain a minimum of :value characters',\n            password: 'Password is not valid',\n            remote: 'Email already exists',\n            strength: 'Password must contents at least one uppercase letter, one lowercase letter and one number',\n            function: 'Function returned false'\n        },\n\n        /**\n         * Keyup handler\n         * @param ev\n         */\n        handlerKeyup: function handlerKeyup(ev) {\n            var elem = ev.target,\n                item = {\n                name: elem.getAttribute('data-validate-field'),\n                value: elem.value\n            };\n            delete this.result[item.name];\n            this.validateItem({\n                name: item.name,\n                value: item.value,\n                group: [],\n                isKeyupChange: true\n            });\n            this.renderErrors();\n        },\n\n        setterEventListener: function setterEventListener(item, event, handler, type) {\n            if (event === 'keyup') {\n                handler = this.bindHandlerKeyup;\n            }\n            switch (type) {\n                case 'add':\n                    {\n                        item.addEventListener(event, handler);\n                        break;\n                    }\n                case 'remove':\n                    {\n                        item.removeEventListener(event, handler);\n                        break;\n                    }\n            }\n        },\n\n        getElementsRealValue: function getElementsRealValue() {\n            var $elems = this.$form.querySelectorAll('*'),\n                name = void 0,\n                result = {};\n            for (var i = 0, len = $elems.length; i < len; ++i) {\n                name = $elems[i].getAttribute('name');\n                if (name) {\n                    if ($elems[i].type === 'checkbox') {\n                        result[name] = $elems[i].checked;\n                        continue;\n                    }\n                    result[name] = $elems[i].value;\n                }\n            }\n            return result;\n        },\n\n        validationFailed: function validationFailed() {\n            if (this.invalidFormCallback) {\n                this.invalidFormCallback(this.result);\n            }\n\n            var $firstErrorField = document.querySelector('.js-validate-error-field');\n\n            if (this.focusWrongField && $firstErrorField && $firstErrorField.focus) {\n                $firstErrorField.focus();\n            }\n        },\n\n        validationSuccess: function validationSuccess() {\n            if (Object.keys(this.result).length === 0) {\n                this.isValidationSuccess = false;\n                if (this.submitHandler) {\n                    var realValues = this.getElementsRealValue();\n                    this.submitHandler(this.$form, realValues, ajax);\n                    return;\n                }\n\n                this.$form.submit();\n            }\n        },\n\n        setForm: function setForm(form) {\n            var _this = this;\n\n            this.$form = form;\n            this.$form.setAttribute('novalidate', 'novalidate');\n            this.$form.addEventListener('submit', function (ev) {\n                ev.preventDefault();\n                _this.result = [];\n                _this.getElements();\n\n                if (!_this.promisesRemote.length) {\n                    if (_this.isValidationSuccess) {\n                        _this.validationSuccess();\n                    } else {\n                        _this.validationFailed();\n                    }\n                    return;\n                }\n\n                Promise.all(_this.promisesRemote).then(function () {\n                    _this.promisesRemote = [];\n\n                    if (_this.isValidationSuccess) {\n                        _this.validationSuccess();\n                    } else {\n                        _this.validationFailed();\n                    }\n                });\n            });\n        },\n\n        isEmail: function isEmail(email) {\n            return this.REGEXP.email.test(email);\n        },\n\n        isZip: function isZip(zip) {\n            return this.REGEXP.zip.test(zip);\n        },\n\n        isPhone: function isPhone(phone) {\n            return this.REGEXP.phone.test(phone);\n        },\n\n        isPassword: function isPassword(password) {\n            return this.REGEXP.password.test(password);\n        },\n\n        isEmpty: function isEmpty(val) {\n            var newVal = val;\n            if (val.trim) {\n                newVal = val.trim();\n            }\n\n            return !newVal;\n        },\n\n        checkLengthMax: function checkLengthMax(text, max) {\n            return text.length <= max;\n        },\n\n        checkLengthMin: function checkLengthMin(text, min) {\n            return text.length >= min;\n        },\n\n        checkStrengthPass: function checkStrengthPass(password) {\n            return this.REGEXP.strengthPass.test(password);\n        },\n\n        getElements: function getElements() {\n            var _this2 = this;\n\n            var elems = this.$form.querySelectorAll('[data-validate-field]');\n            this.elements = [];\n\n            var _loop = function _loop(i, len) {\n                var item = elems[i],\n                    name = item.getAttribute('data-validate-field'),\n                    value = item.value,\n                    isElemInGroup = false,\n                    group = [];\n\n                if (item.type === 'checkbox') {\n                    value = item.checked || '';\n                    item.addEventListener('change', function (ev) {\n                        var elem = ev.target,\n                            item = {\n                            name: elem.getAttribute('data-validate-field'),\n                            value: elem.checked\n                        };\n\n                        delete _this2.result[item.name];\n                        _this2.validateItem({\n                            name: item.name,\n                            value: item.value,\n                            group: []\n                        });\n                        _this2.renderErrors();\n                    });\n                }\n\n                if (item.type === 'radio') {\n                    var findElem = _this2.elements.filter(function (item) {\n                        if (item.name === name) {\n                            return item;\n                        }\n                    })[0];\n\n                    if (findElem) {\n                        findElem.group.push(item.checked);\n                        isElemInGroup = true;\n                    } else {\n                        group.push(item.checked);\n                    }\n\n                    item.addEventListener('change', function (ev) {\n                        var elem = ev.target,\n                            item = {\n                            name: elem.getAttribute('data-validate-field'),\n                            value: elem.checked\n                        };\n\n                        delete _this2.result[item.name];\n                        _this2.validateItem({\n                            name: item.name,\n                            value: item.value,\n                            group: []\n                        });\n                        _this2.renderErrors();\n                    });\n                }\n\n                _this2.setterEventListener(item, 'keyup', _this2.handlerKeyup, 'add');\n\n                if (!isElemInGroup) {\n                    _this2.elements.push({\n                        name: name,\n                        value: value,\n                        group: group\n                    });\n                }\n            };\n\n            for (var i = 0, len = elems.length; i < len; ++i) {\n                _loop(i, len);\n            }\n\n            this.validateElements();\n        },\n\n        /**\n         * Validate Required field\n         * @param {string} value Value for validate\n         * @returns {boolean} True if validate is OK\n         */\n        validateRequired: function validateRequired(value) {\n            return !this.isEmpty(value);\n        },\n\n        /**\n         * Validate Email field\n         * @param {string} value Value for validate\n         * @returns {boolean} True if validate is OK\n         */\n        validateEmail: function validateEmail(value) {\n            return this.isEmail(value);\n        },\n\n        /**\n         * Validate Phone field\n         * @param {string} value Value for validate\n         * @returns {boolean} True if validate is OK\n         */\n        validatePhone: function validatePhone(value) {\n            return this.isPhone(value);\n        },\n\n        /**\n         * Validate field for Min Length\n         * @param {string} value Value for validate\n         * @param {integer} min\n         * @returns {boolean} True if validate is OK\n         */\n        validateMinLength: function validateMinLength(value, min) {\n            return this.checkLengthMin(value, min);\n        },\n\n        /**\n         * Validate field for Max Length\n         * @param {string} value Value for validate\n         * @param {integer} max\n         * @returns {boolean} True if validate is OK\n         */\n        validateMaxLength: function validateMaxLength(value, max) {\n            return this.checkLengthMax(value, max);\n        },\n\n        /**\n         * Validate field for strength password\n         * @param {string} password Value for validate\n         * @returns {boolean} True if validate is OK\n         */\n        validateStrengthPass: function validateStrengthPass(password) {\n            return this.checkStrengthPass(password);\n        },\n\n        /**\n         * Validate Password field\n         * @param {string} value Value for validate\n         * @returns {boolean} True if validate is OK\n         */\n        validatePassword: function validatePassword(value) {\n            return this.isPassword(value);\n        },\n\n        /**\n         * Validate ZIP field\n         * @param {string} value Value for validate\n         * @returns {boolean} True if validate is OK\n         */\n        validateZip: function validateZip(value) {\n            return this.isZip(value);\n        },\n\n        /**\n         * Validate for remote check\n         * @param value\n         * @param name\n         * @param {string} url\n         * @param {string} successAnswer\n         * @returns {boolean} True if validate is OK\n         */\n        validateRemote: function validateRemote(_ref) {\n            var value = _ref.value,\n                name = _ref.name,\n                url = _ref.url,\n                successAnswer = _ref.successAnswer,\n                sendParam = _ref.sendParam,\n                method = _ref.method;\n\n            return new Promise(function (resolve) {\n                ajax({\n                    url: url,\n                    method: method,\n                    data: _defineProperty({}, sendParam, value),\n                    async: true,\n                    callback: function callback(data) {\n                        if (data.toLowerCase() === successAnswer.toLowerCase()) {\n                            resolve('ok');\n                        }\n                        resolve({\n                            type: 'incorrect',\n                            name: name\n                        });\n                    },\n                    error: function error() {\n                        resolve({\n                            type: 'error',\n                            name: name\n                        });\n                    }\n                });\n            });\n        },\n\n        generateMessage: function generateMessage(rule, name, value) {\n            var messages = this.messages || this.defaultMessages;\n            var customMessage = messages[name] && messages[name][rule] || this.messages && typeof this.messages[name] === 'string' && messages[name] ||\n            // (messages[name][rule]) ||\n            this.defaultMessages[rule] || this.DEFAULT_REMOTE_ERROR;\n\n            if (value) {\n                customMessage = customMessage.replace(':value', value.toString());\n            }\n            this.result[name] = {\n                message: customMessage\n            };\n        },\n\n        validateElements: function validateElements() {\n            var _this3 = this;\n\n            this.lockForm();\n            this.elements.forEach(function (item) {\n                _this3.validateItem({\n                    name: item.name,\n                    value: item.value,\n                    group: item.group\n                });\n            });\n\n            if (!this.promisesRemote.length) {\n                this.renderErrors();\n                return;\n            }\n\n            Promise.all(this.promisesRemote).then(function (resp) {\n                resp.forEach(function (result) {\n                    if (result === 'ok') {\n                        _this3.renderErrors();\n                        return;\n                    }\n                    if (result.type === 'error') {\n                        alert('Server error occured. Please try later.');\n                    }\n                    _this3.generateMessage(RULE_REMOTE, result.name);\n                    _this3.renderErrors();\n                });\n            });\n        },\n\n        validateItem: function validateItem(_ref2) {\n            var _this4 = this;\n\n            var name = _ref2.name,\n                group = _ref2.group,\n                value = _ref2.value,\n                isKeyupChange = _ref2.isKeyupChange;\n\n            var rules = this.rules[name] || this.defaultRules[name] || false;\n\n            if (!rules) {\n                return;\n            }\n            for (var rule in rules) {\n                var ruleValue = rules[rule];\n\n                if (rule !== RULE_REQUIRED && rule !== RULE_FUNCTION && value == '') {\n                    return;\n                }\n                switch (rule) {\n                    case RULE_FUNCTION:\n                        {\n                            if (typeof ruleValue !== 'function') {\n                                break;\n                            }\n                            if (ruleValue(name, value)) {\n                                break;\n                            }\n                            this.generateMessage(RULE_FUNCTION, name, ruleValue);\n                            return;\n                        }\n                    case RULE_REQUIRED:\n                        {\n                            if (!ruleValue) {\n                                break;\n                            }\n\n                            if (group.length) {\n                                var isSuccessValidateGroup = false;\n\n                                // At least one item in group\n                                group.forEach(function (item) {\n                                    if (_this4.validateRequired(item)) {\n                                        isSuccessValidateGroup = true;\n                                    }\n                                });\n\n                                if (isSuccessValidateGroup) {\n                                    break;\n                                }\n                            } else {\n                                if (this.validateRequired(value)) {\n                                    break;\n                                }\n                            }\n\n                            this.generateMessage(RULE_REQUIRED, name);\n                            return;\n                        }\n\n                    case RULE_EMAIL:\n                        {\n                            if (!ruleValue) {\n                                break;\n                            }\n                            if (this.validateEmail(value)) {\n                                break;\n                            }\n                            this.generateMessage(RULE_EMAIL, name);\n                            return;\n                        }\n\n                    case RULE_MINLENGTH:\n                        {\n                            if (!ruleValue) {\n                                break;\n                            }\n                            if (this.validateMinLength(value, ruleValue)) {\n                                break;\n                            }\n                            this.generateMessage(RULE_MINLENGTH, name, ruleValue);\n                            return;\n                        }\n\n                    case RULE_MAXLENGTH:\n                        {\n                            if (!ruleValue) {\n                                break;\n                            }\n                            if (this.validateMaxLength(value, ruleValue)) {\n                                break;\n                            }\n                            this.generateMessage(RULE_MAXLENGTH, name, ruleValue);\n                            return;\n                        }\n\n                    case RULE_PHONE:\n                        {\n                            if (!ruleValue) {\n                                break;\n                            }\n                            if (this.validatePhone(value)) {\n                                break;\n                            }\n                            this.generateMessage(RULE_PHONE, name);\n                            return;\n                        }\n\n                    case RULE_PASSWORD:\n                        {\n                            if (!ruleValue) {\n                                break;\n                            }\n                            if (this.validatePassword(value)) {\n                                break;\n                            }\n                            this.generateMessage(RULE_PASSWORD, name);\n                            return;\n                        }\n\n                    case RULE_STRENGTH:\n                        {\n                            if (!ruleValue || (typeof ruleValue === 'undefined' ? 'undefined' : _typeof(ruleValue)) !== 'object') {\n                                break;\n                            }\n\n                            if (ruleValue.default && this.validateStrengthPass(value)) {\n                                break;\n                            }\n\n                            if (ruleValue.custom) {\n                                var regexp = void 0;\n\n                                try {\n                                    regexp = new RegExp(ruleValue.custom);\n                                } catch (e) {\n                                    regexp = this.REGEXP.strengthPass;\n\n                                    // eslint-disable-next-line no-console\n                                    console.error('Custom regexp for strength rule is not valid. Default regexp was used.');\n                                }\n\n                                if (regexp.test(value)) {\n                                    break;\n                                }\n                            }\n                            this.generateMessage(RULE_STRENGTH, name);\n                            return;\n                        }\n\n                    case RULE_ZIP:\n                        {\n                            if (!ruleValue) {\n                                break;\n                            }\n                            if (this.validateZip(value)) {\n                                break;\n                            }\n                            this.generateMessage(RULE_ZIP, name);\n                            return;\n                        }\n\n                    case RULE_REMOTE:\n                        {\n                            if (isKeyupChange) {\n                                break;\n                            }\n\n                            if (!ruleValue) {\n                                break;\n                            }\n\n                            var url = ruleValue.url,\n                                successAnswer = ruleValue.successAnswer,\n                                method = ruleValue.method,\n                                sendParam = ruleValue.sendParam;\n\n                            var $elem = this.$form.querySelector('input[data-validate-field=\"' + name + '\"]');\n                            this.setterEventListener($elem, 'keyup', this.handlerKeyup, 'remove');\n\n                            this.promisesRemote.push(this.validateRemote({\n                                name: name,\n                                value: value,\n                                url: url,\n                                method: method,\n                                sendParam: sendParam,\n                                successAnswer: successAnswer\n                            }));\n                            return;\n                        }\n                }\n            }\n        },\n\n        clearErrors: function clearErrors() {\n            var $elems = document.querySelectorAll('.js-validate-error-label');\n            for (var i = 0, len = $elems.length; i < len; ++i) {\n                $elems[i].remove();\n            }\n\n            $elems = document.querySelectorAll('.js-validate-error-field');\n            for (var _i = 0, _len = $elems.length; _i < _len; ++_i) {\n                $elems[_i].classList.remove('js-validate-error-field');\n                $elems[_i].style.border = '';\n                $elems[_i].style.color = '';\n            }\n        },\n\n        renderErrors: function renderErrors() {\n            var _this5 = this;\n\n            this.clearErrors();\n            this.unlockForm();\n\n            this.isValidationSuccess = false;\n            if (Object.keys(this.result).length === 0) {\n                this.isValidationSuccess = true;\n                return;\n            }\n\n            for (var _item in this.result) {\n                var message = this.result[_item].message;\n                var $elems = this.$form.querySelectorAll('[data-validate-field=\"' + _item + '\"]');\n\n                var $elem = $elems[$elems.length - 1];\n\n                var div = document.createElement('div');\n\n                div.innerHTML = message;\n                div.className = 'js-validate-error-label';\n                div.setAttribute('style', 'color: ' + this.colorWrong);\n                $elem.style.border = '1px solid ' + this.colorWrong;\n                $elem.style.color = '' + this.colorWrong;\n                $elem.classList.add('js-validate-error-field');\n\n                if ($elem.type === 'checkbox' || $elem.type === 'radio') {\n                    var $label = document.querySelector('label[for=\"' + $elem.getAttribute('id') + '\"]');\n\n                    if ($elem.parentNode.tagName.toLowerCase() === 'label') {\n                        $elem.parentNode.parentNode.insertBefore(div, null);\n                    } else if ($label) {\n                        $label.parentNode.insertBefore(div, $label.nextSibling);\n                    } else {\n                        $elem.parentNode.insertBefore(div, $elem.nextSibling);\n                    }\n                } else {\n                    $elem.parentNode.insertBefore(div, $elem.nextSibling);\n                }\n            }\n\n            if (!this.tooltipSelectorWrap.length) {\n                return;\n            }\n\n            this.state.tooltipsTimer = setTimeout(function () {\n                _this5.hideTooltips();\n            }, this.tooltipFadeOutTime);\n        },\n\n        hideTooltips: function hideTooltips() {\n            var _this6 = this;\n\n            var $elemsErrorLabel = document.querySelectorAll('.js-validate-error-label');\n\n            $elemsErrorLabel.forEach(function (item) {\n                item.classList.add(_this6.tooltipFadeOutClass);\n            });\n\n            this.state.tooltipsTimer = null;\n        },\n\n        lockForm: function lockForm() {\n            var $elems = this.$form.querySelectorAll('input, textarea, button, select');\n            for (var i = 0, len = $elems.length; i < len; ++i) {\n                $elems[i].setAttribute('disabled', 'disabled');\n                $elems[i].style.pointerEvents = 'none';\n                $elems[i].style.webitFilter = 'grayscale(100%)';\n                $elems[i].style.filter = 'grayscale(100%)';\n            }\n        },\n\n        unlockForm: function unlockForm() {\n            var $elems = this.$form.querySelectorAll('input, textarea, button, select');\n            for (var i = 0, len = $elems.length; i < len; ++i) {\n                $elems[i].removeAttribute('disabled');\n                $elems[i].style.pointerEvents = '';\n                $elems[i].style.webitFilter = '';\n                $elems[i].style.filter = '';\n            }\n        }\n    };\n\n    window.JustValidate = JustValidate;\n})(window);"]}